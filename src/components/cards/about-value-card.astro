---
import SustainabilityIcon from "../icons/sustainability-icon.astro";
import FairTradeIcon from "../icons/fair-trade-icon.astro";
import CommunityIcon from "../icons/community-icon.astro";
import ExcellenceIcon from "../icons/excellence-icon.astro";

interface Props {
  id: "sustainability" | "fairTrade" | "community" | "excellence";
  title: string;
  description: string;
  index: number;
}

const { id, title, description, index } = Astro.props;

const icons = {
  sustainability: SustainabilityIcon,
  fairTrade: FairTradeIcon,
  community: CommunityIcon,
  excellence: ExcellenceIcon,
};

const Icon = icons[id];
---

<div
  class:list={[
    "group relative p-8 lg:p-10 rounded-[2.5rem] bg-card/40 border border-border/40 overflow-hidden",
    "hover:bg-card hover:border-primary/20 hover:shadow-2xl hover:shadow-primary/5 transition-all duration-500",
    "flex flex-col h-full",
    `motion-preset-slide-up motion-delay-${(index + 1) * 100}`,
  ]}
>
  <!-- Background Glow (Animated on Hover) -->
  <div
    class="absolute -top-24 -right-24 w-48 h-48 bg-primary/5 rounded-full blur-3xl group-hover:bg-primary/10 transition-colors duration-700"
  >
  </div>

  <!-- Icon Section -->
  <div class="relative mb-8">
    <div
      class="w-16 h-16 rounded-2xl bg-background border border-border/50 flex items-center justify-center text-primary shadow-inner group-hover:scale-110 group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary transition-all duration-500"
    >
      <Icon size="md" />
    </div>

    <!-- Decorative Shadow/Reflection -->
    <div
      class="absolute -bottom-2 left-4 right-4 h-1 bg-primary/10 blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-500"
    >
    </div>
  </div>

  <!-- Content -->
  <div class="relative flex-1 flex flex-col">
    <div class="flex items-center gap-2 mb-4">
      <span
        class="text-[10px] font-bold uppercase tracking-widest text-accent/60 group-hover:text-accent transition-colors"
        >Nuestros Valores</span
      >
    </div>

    <h3
      class="font-serif text-2xl lg:text-3xl font-bold text-foreground mb-4 group-hover:text-primary transition-colors"
    >
      {title}
    </h3>

    <p
      class="text-muted-foreground leading-relaxed text-lg group-hover:text-foreground/90 transition-colors duration-300"
    >
      {description}
    </p>
  </div>

  <!-- Bottom Accent (Elegant line) -->
  <div
    class="mt-8 h-px w-full bg-linear-to-r from-transparent via-border/50 to-transparent group-hover:via-primary/30 transition-all duration-700"
  >
  </div>
</div>
